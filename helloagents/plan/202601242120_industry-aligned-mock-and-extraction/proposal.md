## 背景与问题

当前 demo 与 buckets 抽取存在两个痛点：

1) demo 语料分散：`/v1/dev/seed` 的 mock 内容散落在 `server/memos_server/app.py`，同时 buckets 抽取规则又写在 `server/memos_server/condensation.py`，不利于维护与面试叙事统一。

2) buckets 抽取过“儿戏”：简单的 `any(k in s for k in [...])` 子串匹配会产生误报/漏报，也很难对齐业界做法（业界通常用 LLM/信息抽取模型 + 结构化输出 + 评测）。

## 目标（对标业界但不强依赖 LLM）

### G1. Mock Data 单点来源（中文、可解释、可扩展）
- 将 demo seed 语料集中到单一模块，作为“项目开发历程/现状”的叙事材料；
- 统一使用中文标签（`事实/决策/约束/偏好/踩坑`），让抽取行为可控、可复现。

### G2. Buckets 抽取从“猜”变成“契约”
在不接入 LLM 的前提下，采用业界常见的“显式标注 + 可替换 extractor”的策略：
- **显式标注优先**：仅对 `决策：...` / `约束：...` / `我的偏好：...` / `事实：...` 等稳定标注抽取；
- **少量降级规则**：仅当句子以 `不要/必须/不能/禁止/保留` 开头时，才归为约束（避免全局子串误判）；
- **可升级接口**：后续接入 LLM extractor 时，只需替换 extractor 层，不改业务流程与数据结构。

### G3. 验收
- `/v1/dev/seed` 的 demo 数据在单一文件可维护；
- 使用 `决策：...`、`约束：...`、`事实：...` 等内容能稳定落到对应 buckets；
- 单测覆盖：正常用例 + 边界（多条用 `；` 分隔）+ 异常（无标注不误判）。

## 范围与非目标

**范围**
- Server：demo seed 数据集中化；buckets 抽取规则升级（仍保持 deterministic、可测试）。

**非目标**
- 本次不接入 LLM（仅为未来预留对齐业界的接口与评测路径）。

